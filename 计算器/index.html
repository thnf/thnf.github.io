<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>计算器-贝浦熙信息总网</title>
      <meta name="viewport" content="width=device-width">
      <link rel="stylesheet" href="class.css">
    </head>
    <body>
        <table border="10" cellspacing="10" cellpadding="10" align="center">
            <tr style="background-color: darkgrey;">
                <th colspan="4" align="left">
                  <noscript><font aria-setsize="10" color="red">请开启JavaScript!否则无法正常使用！</font></noscript>
                  <p>内核：<select id="select">

  <option value="数学帝国">数学帝国</option>
  <option value="Microsoft Math Solver">Microsoft Math Solver</option>
</select></p><input value="" id="box" placeholder="输入代数式(手动输入或使用生成器)" type="search">
                <input value="换行" id="enter" onclick="enter()" type="button">
                <input value="清空" id="c" onclick="c()" type="button"></th>
            </tr>
            <tr align="center">
                <td style="width: 30px; background-color:#eee"><button id="squre" onclick="squre()">mⁿ</button></td>
                <td style="width: 30px; background-color:#eee"><button id="x" onclick="x()">x</button></td>
                <td style="width: 30px; background-color:#eee"><button id="y" onclick="y()">y</button></td>
                 <td style="background-color:#eee;"><button id="delete1" onclick="delete1()">←</button></td>
            </tr>
          <tr align="center">
                <td style="background-color:#eee;"><button id="sqrt" onclick="sqrt()">√</button></td>
            <td style="background-color:#eee;"><button id="leftkh" onclick="leftkh()">(</button></td>
            <td style="background-color:#eee;"><button id="rightkh" onclick="rightkh()">)</button></td>
            <td style="width: 30px; background-color:#eee"><button id="put" onclick="put()">+</button></td>
            </tr>
            <tr align="center">
                <td><button id="7" onclick="seven()">7</button></td>
                <td><button id="8" onclick="eight()">8</button></td>
                <td><button id="9" onclick="nine()">9</button></td>
                <td style="background-color:#eee;"><button id="cut" onclick="cut()">-</button></td>
            </tr>
            <tr align="center">
                <td><button id="4" onclick="four()">4</button></td>
                <td><button id="5" onclick="five()">5</button></td>
                <td><button id="6" onclick="six()">6</button></td>
                <td style="background-color:#eee;"><button id="ride" onclick="ride()">×</button></td>
            </tr>
            <tr align="center">
                <td><button id="1" onclick="one()">1</button></td>
                <td><button id="2" onclick="two()">2</button></td>
                <td><button id="3" onclick="three()">3</button></td>
                <td style="background-color:#eee;"><button id="division" onclick="division()">÷</button></td>
            </tr>
            <tr align="center">
                <td><button id="0" onclick="zero()">0</button></td>
                <td style="background-color:#eee;"><button id="point" onclick="point()">.</button></td>
                <td style="background-color:#eee;"><button id="same" onclick="same()">=</button></td>
                <td style="background-color:#eee;"><button id="answer" onclick="answer()">求解</button></td>
            </tr>

        </table>
       <script>
        var way="普通";
         //main
function answer(){
     var a=document.getElementById("box").value;
     var main="";
     for(var i=0;i<a.length;i++){
            if(a[i]=="="){
              way="方程";
              break;
            } 
            else way="普通";
          } 
  if(document.getElementById("box").value.length!=0){
     if(document.getElementById("select").value=="Microsoft Math Solver") {    window.open("https://mathsolver.microsoft.com/zh/solve-problem/"+a,"_blank");
  }
   
  else if(document.getElementById("select").value=="数学帝国"){
   if(way=="普通") { 
       for(var i=0;i<a.length;i++){
            if(a[i]=="+") main=main+"%2B";
            else main=main+a[i];
          } 
       window.open("https://zh.numberempire.com/expressioncalculator.php?result_type=expression&function="+main,"_blank");
  }
    if(way=="方程"){
      var var1="";
      for(var i=0;i<a.length;i++){
            if(a[i]>="A"&a[i]<="Z"){
                if(var1.includes(a[i])==false){
                     a[i]=a[i]-"A";
                if(var1=="")
                var1=a[i];
                else var1=var1+","+a[i];
                }
               
            }
            if(a[i]>="a"&a[i]<="z"){
              if(var1.includes(a[i])==false){
                if(var1=="")
                var1=a[i];
                else var1=var1+","+a[i];
              }
            }
            if(a[i]=="+") main=main+"%2B";
            else main=main+a[i];
          }
          window.open("https://zh.numberempire.com/equationsolver.php?result_type=false&answers=&_p1=2029&function="+main+"&var="+var1,"_blank");

    }
}
  }
  else {
      window.alert("不能为空！");
  }
}
         //符号
function c(){document.getElementById("box").value="";
             way="普通";
}


         
         function enter(){
           var putvalue=",";
           getValue("box", putvalue);
         }
function squre(){var putvalue=")^(";
getValue("box", putvalue);
}

function sqrt(){var putvalue="sqrt(";
getValue("box", putvalue);
}

         function rightkh(){var putvalue=")";
         getValue("box", putvalue);
}

function leftkh(){var putvalue="(";
getValue("box", putvalue);
}


         
         function sqrt(){var putvalue="sqrt(";
         getValue("box", putvalue);
}
         
function delete1(){  
  var a=document.getElementById("box").value;
   var out="";
  if(a.length!=0){
    for(var i=0;i<a.length-1;i++){
            out=out+a[i];
          } 
  }
  document.getElementById("box").value=out;
        }

         function x(){  var putvalue="x";
         getValue("box", putvalue);
        }
         function y(){  var putvalue="y";
         getValue("box", putvalue);
        }
         function put(){  var putvalue="+";
         getValue("box", putvalue);
        }
         function cut(){  
           var putvalue="-";
           getValue("box", putvalue);
        }
         function ride(){  var putvalue="*";
         getValue("box", putvalue);
        }
         function division(){  var putvalue="/";
         getValue("box", putvalue);
        }
         function point(){  var putvalue=".";
         getValue("box", putvalue);
        }
         function same(){  var putvalue="=";
         getValue("box", putvalue);
               way="方程";          
        }

         
      //数字
         function one(){  var putvalue="1";
         getValue("box", putvalue);
        }

         function two(){  var putvalue="2";
         getValue("box", putvalue);
        }
         function three(){  var putvalue="3";
         getValue("box", putvalue);
        }
         function four(){  var putvalue="4";
         getValue("box", putvalue);
        }
         function five(){  var putvalue="5";
         getValue("box", putvalue);
        }
         function six(){  var putvalue="6";
         getValue("box", putvalue);
        }
         function seven(){  var putvalue="7";
         getValue("box", putvalue);
        }
         function eight(){  var putvalue="8";
         getValue("box", putvalue);
        }
         function nine(){  var putvalue="9";
         getValue("box", putvalue);
        }
         function zero(){  var putvalue="0";
         getValue("box", putvalue);
        }
      </script> <script src="https://www.bpuxi.top/earthnfc-badge.js" theme="blue" defer=""></script>
      <script type="text/javascript">
    
        //了在IE、Firefox、Opera等主流浏览器的获取光标位置（getCursortPosition）以及设置光标位置（setCursorPosition）的函数    
        //objid：textarea的id   str：要插入的内容
        function getValue(objid,str){
           var myField=document.getElementById(""+objid);
           //IE浏览器
             if (document.selection) {
               myField.focus();
               sel = document.selection.createRange();
               sel.text = str;
               sel.select();
             }
           
             //火狐/网景 浏览器
             else if (myField.selectionStart || myField.selectionStart == '0')
             {
             //得到光标前的位置
               var startPos = myField.selectionStart;
               //得到光标后的位置
               var endPos = myField.selectionEnd;
               // 在加入数据之前获得滚动条的高度
               var restoreTop = myField.scrollTop;
               myField.value = myField.value.substring(0, startPos) + str + myField.value.substring(endPos, myField.value.length);
               //如果滚动条高度大于0
               if (restoreTop > 0) {
                 // 返回
                 myField.scrollTop = restoreTop;
               }
               myField.focus();
               myField.selectionStart = startPos + str.length;
               myField.selectionEnd = startPos + str.length;
             }
             else {
               myField.value += str;
               myField.focus();
             }
           }
        </script>
     免责声明： 内核由Microsoft Math Solver与数学帝国提供，本站仅提供链接跳转。
    </body>
</html>
